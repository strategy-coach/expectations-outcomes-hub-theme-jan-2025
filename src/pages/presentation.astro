---
import themeConfig from '../../theme.config';

const { logo } = themeConfig || {}; 
const bgColor = themeConfig?.presentationBgColor || '#FFFFFF'; // Default fallback

---
<html style={`--presentation-bg: ${bgColor};`}>
  <head>
    <meta charset="UTF-8">
    <title>Presentation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/theme/black.css">
    <link rel="stylesheet" href="/assets/styles/presentation.css">
    <!-- Include Reveal.js -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.js"></script>
  </head>
  <body>
    <div class="logo-card flex w-full px-1 py-2 text-center mb-2 justify-center bg-white drop-shadow-md">
      <img src={logo} class="h-14" alt="logo" />
    </div>
    <div class="reveal">
        <div class="slides">

            <section>
                <h3>EOH Astro 5 Theme Overview</h3>
                <p>The EOH Astro 5 Theme is designed to support dynamic content creation, including blog collections, landing pages, static pages, Expectations & Outcomes Collection and GitHub Discussions integration. It provides customizable components to cater to various needs.</p>
                <h3>Key Features</h3>
                <div class="flex justify-center flex-wrap">
                <div class="w-48 h-48 flex flex-wrap items-center flex-col bg-[#0e222c] p-5 m-5 rounded-full">
                  <img src="/assets/images/ico-star.svg" alt="icon" class="size-12" />
                  <span class="text-xl">Expectations</span>
                </div>
            </section>
            <section>
              <h3>Dashboard</h3>
            
            </section>
            <section>
                <h3>GitHub Discussions Integration</h3>
                <p>This theme demonstrates integration with GitHub Discussions using the github-discussions-blog-loader component.</p>
                
                <h3>Setup</h3>
                <ul>
                    <li>Copy Environment Variables: <code>cp .env.example .env</code></li>
                    <li class="fragment">Configure environment variables in <code>.env</code> file.</li>
                    <li class="fragment">Use the GitHub Discussion Loader Component in templates.</li>
                </ul>
            </section>

            <section>
                <h3>Getting Started</h3>
                <p>Clone the repository, install dependencies, and run the development server to get started with the EOH Astro 5 Theme.</p>
                
                <h3>Commands</h3>
                
            </section>
            <section>
                <p>Enjoy Building with the EOH Astro 5 Theme!</p>
            </section>
        </div>
    </div>
  </body>
</html>
<script>
import themeConfig from "../../theme.config";

document.addEventListener("DOMContentLoaded", () => {
  // Get userId from cookies
  const userId =
    document.cookie
      .split("; ")
      .find((row) => row.startsWith("zitadel_user_id="))
      ?.split("=")[1] || "";

  const isAuthenticated = !!userId; // True if logged in, false otherwise

  document.querySelectorAll(".slides section").forEach((slide, index) => {
    if (themeConfig.authorizedSlides.includes(index + 1) && !isAuthenticated) {
      slide.remove(); // Remove unauthorized slides
    }
  });

  // Initialize Reveal.js AFTER filtering slides
  const deck = new Reveal();
  deck.initialize();
});



</script>